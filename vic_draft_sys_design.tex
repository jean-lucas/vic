% Document uses 12 pt font
% 1 in margins
% Contains a relative path for images

\documentclass [10pt]{article}

% page geometry 
\usepackage[margin=1in]{geometry}


% ----------  PACKAGES START ------------ %

% Table cell color package and highlighting
\usepackage[table]{xcolor}
\usepackage{color,soul}

% VIC title package
\usepackage{cabin}
\usepackage[T1]{fontenc}

% default font package
%\usepackage{times}
\usepackage{helvet}
%\renewcommand{\familydefault}{\sfdefault}

% ---------- End Font Packages -------------- %

% Title Packages
\usepackage{titlesec}
\usepackage{titletoc}

% Image Package
\usepackage{graphicx}

% Table Packages
\usepackage{longtable}
\usepackage{multirow}
\usepackage{multicol}
\usepackage{multirow}
\usepackage{array}
\renewcommand{\arraystretch}{1.4}% Spread rows out evenly in table

% Color Packages
\usepackage{color}   
\definecolor{sectionC}{rgb}{0.016,0.227,.365}
\definecolor{subsectionC}{rgb}{.87,0.87,.87}
\definecolor{subsubsectionC}{rgb}{.94,.93,.90}
\definecolor{tableCell}{rgb}{.96,.95,.90}


% List package
\usepackage{enumitem}
\setenumerate{itemsep=0pt, itemindent=0in,leftmargin=0.5in}

% Paragraph parameter

\setlength{\parindent}{0pt}


% ------------- Creates a linked Table of Contents  Start --------------- %
\usepackage{hyperref}
\hypersetup{
colorlinks=true, %set true if you want colored links
linktoc=all,     %set to all if you want both sections and subsections linked
linkcolor=black,}  %choose some color if you want links to stand out

% ------------- Creates a click-able Table of Contents  End--------------- %

% ---------- PACKAGES END ------------ %



% ------------------- START HEADER AND FOOTER ---------------------------%
\usepackage{fancyhdr}

% Helps with the n of total n pages
\usepackage{lastpage}

\pagestyle{fancy}

% Header
\lhead{Draft System Design }
\rhead{Revision: 0}
\fancyhead[LE,CO]{VIC - Group 6}

% Removes line under the header 
\renewcommand{\headrulewidth}{0pt}
\setlength{\headsep}{.2in}

% Footer 

% Set the right side of the footer to be the page number
\fancyfoot[R]{Page \textbf{\thepage}\ of \textbf{\pageref{LastPage}}}
\fancyfoot[C]{}

% ------------------- END HEADER AND FOOTER ---------------------------%




% -------- SECTION AND SUBSECTION FORMATING START -------- % 
% starts the 
%\setcounter{section}{1}


\titleformat{\section} % Section
{\normalfont \fontsize{14}{14} \bfseries}{}{0em}{\colorsection}

% Makes a background color
\newcommand{\colorsection}[1]{%
  \colorbox{sectionC}{\parbox{\dimexpr\textwidth-1\fboxsep}{\color{white}\Large\thesection\ \hspace{1mm} #1}}}

% Makes a background color
\titleformat{\subsection} % Subsection
{\normalfont \fontsize{12}{12}  \bfseries}{}{0em}{\colorsubsection }

\newcommand{\colorsubsection}[1]{%
  \colorbox{subsectionC}{\parbox{\dimexpr \textwidth -1\fboxsep}{\large\thesubsection\ #1}}}


% Makes a background color
\titleformat{\subsubsection} % Subsubsection
{\normalfont \fontsize{12}{12} \bfseries}{}{0em}{\colorsubsubsection}

\newcommand{\colorsubsubsection}[1]{%
  \colorbox{subsubsectionC}{\parbox{\dimexpr\textwidth-1\fboxsep}{\thesubsubsection\ #1}}}

% -------- SECTION AND SUBSECTION FORMATING END -------- % 
\usepackage{lipsum}


% -----  IMAGE PATH START -----%
% Relative Image Path
\graphicspath {figures/}
% -----  IMAGE PATH END -----%

% ------ PARAGRAPH FORMAT START ----%
%\setlength{\parskip}{.2em}% Sets the space between new paragraph items 
\setlength{\parindent}{0em} % paragraph indent
% ------ PARAGRAPH FORMAT END ----%




%------------------------------TOC FORMAT START --------------------------------%
\usepackage{tocloft}



% Section indentations
\cftsetindents{section}{0em}{1.5em}
\cftsetindents{subsection}{1em}{2em}
\cftsetindents{subsubsection}{2em}{3em}

% Toc title size
\renewcommand\cfttoctitlefont{\Large\bfseries}
\renewcommand*\contentsname{Table of Contents}

% Removes bold headings from toc
%\renewcommand{\cftsecfont}{\normalfont}

% Removes bold heading page numbers from toc
\renewcommand{\cftsecpagefont}{\normalfont}

% add dots after headings
%\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}} 


% number of section headings we want to see in toc
\setcounter{tocdepth}{2}

% Spaceing before headings in toc
\setlength{\cftbeforesecskip}{6pt}

% ------------------------------TOC FORMAT END --------------------------------%








% -------------- DOCUMENT START ---------------%
\begin{document}

% --------- TITLE PAGE START ------- %
\begin {center} 

\thispagestyle{empty}
\vspace*{5cm}

% Logo Insertion
\begin {figure}[h!]
\centering
\hspace{-10mm}\includegraphics [scale = .5, trim={.4cm 0 .8cm 0},clip] {figures/vic_logo.png}
\end {figure}

{\fontfamily{\cabinfamily}\selectfont
\Huge{Vehicle Intersection Control} }

\vspace{1 cm}
{\Large\textbf{\textsc{McMaster University}}\\}  \vspace {1cm}
{\large Draft System Design\\ \vspace {0.4 cm} SE 4G06}  \vspace {1cm}

{\large \textsc{Group 6} \\} \vspace{1cm}

{
Alex Jackson - 1302526\\
Jean Lucas Ferreira - 1152120 \\
Justin Kapinski - 1305257\\
Mathew Hobers - 1228607\\
Radhika Sharma - 1150430\\
Zachary Bazen - 1200979}




\end{center}

% --------- TITLE PAGE END------- %

\pagebreak

% Inserting table of contents and table of figures 

\tableofcontents
\listoftables
\listoffigures



\pagebreak

% -----------  REVISION HISTORY START ----------- %

%\section*{Revisions}
\thispagestyle{empty}
\section{Revisions}
\begin{longtable}{| p{.2\textwidth } | p{.23\textwidth } | p{.23\textwidth } | p{.23\textwidth } |}

\hline 
\centering \textbf{Date} & 
\multicolumn{1}{c}{\textbf {Revision Number}} &
\multicolumn{1}{|c}{\textbf {Authors}} & 
\multicolumn{1}{|c|}{\textbf {Comments}} \\ \hline

\multirow{4}{*}{\centering December 21, 2016}  & 
\multirow{4}{*}{Revision 0}& 
{Alex Jackson \newline
Jean Lucas Ferreira \newline
Justin Kapinski\newline
Mathew Hobers\newline
Radhika Sharma\newline
Zachary Bazen}
&
 \multirow{4}{*}{N/A} \\ 
\hline 

\caption{VIC Table of Revisions} 
\end{longtable}
% -----------  REVISION HISTORY END ----------- %
\pagebreak

%---------------------------- PROJECT DRIVERS ------------------------%
% heading in document

% -------------- START INTRODUCTION ---------------- %
\section {Introduction}
%\begin{center}
%	\hl{\textbf{\large***BASED ON SUGGESTED CONTENT AND DOCUMENTS FOUND ON AVENUE \\ WE NEED TO FIGURE OUT APPROPRIATE NAMING AND LABELING FOR V\&V STUFF	 ***}}
%\end{center}

\subsection{Document Purpose}
Insert Text Here.

\subsection{System Scope}
Insert Text Here. 

\subsection{Document Overview and Intended Audience}
Insert Text Here. 

\subsection{Document Conventions}
Insert Text Here.

 
% Naming Conventions
\subsubsection{Naming Conventions}


\begin{longtable}{ |p{.23\textwidth } p{.725\textwidth }|} \caption{Naming Conventions} \\ \hline

\textbf{m\_ic\_variableName} & Monitored variable for intersection controller \\ 

\cellcolor{tableCell}\textbf{c\_ic\_variableName}  & \cellcolor{tableCell}Control variable for intersection controller \\ 

\textbf{m\_vc\_variableName} & Monitored variable for autonomous vehicle controller \\ 

\cellcolor{tableCell}\textbf{c\_vc\_variableName}  & \cellcolor{tableCell}Control variable for autonomous vehicle controller \\ 

\textbf{ICD\#} & Intersection Controller Design Component ID \\ 

\cellcolor{tableCell}\textbf{ICD\#.H\#}  & \cellcolor{tableCell}Intersection Controller Hardware Design Subsystem ID \\

\textbf{ICD\#.S\#} & Intersection Controller Software Design Subsystem ID \\ 

\cellcolor{tableCell}\textbf{VCD\#}  & \cellcolor{tableCell}Autonomous Vehicle Controller Design Component ID\\  

\textbf{VCD\#.H\#} & Intersection Controller Hardware Design Subsystem ID \\ 

\cellcolor{tableCell}\textbf{VCD\#.S\#}  & \cellcolor{tableCell}Autonomous Vehicle Controller Software Design Subsystem ID \\\hline



\end{longtable}


% Table Pattern
%\textbf{-} & - \\
%
%\cellcolor{tableCell}\textbf{-}  & \cellcolor{tableCell}- \\ \hline



% -------------- END INTRODUCTION ---------------- %

% -------------- START MONITORED VARIABLES ---------------- %
\section{Monitored Variables}

\subsection{Intersection Controller}

\begin{longtable}{ |p{.33\textwidth }  p{.625\textwidth }|}\caption{Intersection Controller Monitored Variables} \\   \hline
\textbf{m\_ic\_readSensor} & [8]:Boolean  \\

\cellcolor{tableCell}\textbf{m\_ic\_carSignal}  & \cellcolor{tableCell}[4]:Byte[ ] \\  \hline
\end{longtable}

\subsection{Autonomous Vehicle Controller}

\begin{longtable}{ |p{.33\textwidth }  p{.625\textwidth }|}  \hline
\textbf{m\_vc\_videoCapture} & [x][y]:Bytes  \\ 

\cellcolor{tableCell}\textbf{m\_vc\_frontDistance}  & \cellcolor{tableCell}Double \\ 


\textbf{m\_vc\_speedSignal} & Boolean \\

\cellcolor{tableCell}\textbf{m\_vc\_hallEffect}  & \cellcolor{tableCell}Double \\ 

\textbf{m\_vc\_vehicleOrientation} & Character \\\hline
\end{longtable}


% -------------- END MONITORED VARIABLES  ---------------- %




% -------------- START CONTROLLED VARIABLES ---------------- %

\section{Controlled Variables}


\subsection{Intersection Controller}

\begin{longtable}{ |p{.33\textwidth }  p{.625\textwidth }|}  \hline

\textbf{c\_ic\_carProceedSignal} & Boolean \\ \hline
\end{longtable}

\subsection{Autonomous Vehicle Controller}

\begin{longtable}{ |p{.33\textwidth }  p{.625\textwidth }|}  \hline
\textbf{c\_vc\_wheelAngle} & Double  \\

\cellcolor{tableCell}\textbf{c\_vc\_carSpeed}  & \cellcolor{tableCell}Integer \\ 

\textbf{c\_vc\_vehicleBrake} & Boolean \\ 

\cellcolor{tableCell}\textbf{c\_vc\_requestIC}  & \cellcolor{tableCell}Byte[ ]\\ \hline
\end{longtable}

% -------------- END CONTROLLED VARIABLES  ---------------- %


% -------------- START OVERALL DESIGN DESCRIPTION ---------------- %
\section{System Overview}
Insert Text Here. 

\subsection{Behavior Overview}
Insert Text or Image Here. 

\subsection{Context Diagrams}
Insert Text or Image Here.

\subsection{System Component Diagrams}
Insert Text or Image Here. 

% -------------- END OVERALL DESIGN DESCRIPTION  ---------------- %




% -------------- START SYSTEM COMPONENTS ---------------- %
\section{System Components}
 
\subsection{Intersection Control Component}


\begin{longtable}{| p{.25\textwidth } | p{.7\textwidth } | }\hline 
\multicolumn{2}{|c|}{\textbf{IDC1}}  \\ \hline 
%

%
\multicolumn{1}{|c|}{\textbf {\multirow{2}{*}{\centering Inputs}}}  
					 & m\_ic\_carSignal[4]  \\\cline{2-2}
                                 &\cellcolor{tableCell}m\_ic\_readSensors[8] \\\hline
%



%
\multicolumn{1}{|c|}{\textbf {\multirow{1}{*}{\centering Outputs}}}  
					 & c\_ic\_carSignal[4]  \\\hline
%

\multicolumn{1}{|c|}{\textbf {\multirow{1}{*}{\centering Description}}} 
					&Insert Description Here\\ \hline 

\multicolumn{1}{|c|}{\textbf {\multirow{3}{*}{\centering Timing Constraints}}} 
					 & 1 second intersection arrival decision   \\
                                 &\cellcolor{tableCell}1 second intersection schedule  \\
                                 & \multicolumn{1}{l |}{0.5 second intersection departure decision} \\ \hline

\multicolumn{1}{|c|}{\textbf {\multirow{3}{*}{\centering Deadline}}} 
					 & Decisions must be made before the next intersection arrival poll  \\
                                 &\cellcolor{tableCell}- \\
                                 & \multicolumn{1}{l |}{-} \\ \hline

\multicolumn{1}{|c|}{\textbf {\multirow{3}{*}{\centering Initialization}}} & Connect to autonomous vehicles over Bluetooth communication  \\
                                 &\cellcolor{tableCell}Clear all intersection arrival queues \\
                                 & \multicolumn{1}{l |}{-} \\ \hline
\end{longtable}

% Vehicle Component 
\subsection{RC Vehicle Component}
\begin{longtable}{| p{.25\textwidth } | p{.7\textwidth } | }\hline 
\multicolumn{2}{|c|}{\textbf{VCD1}}  \\ \hline 
%
%
\multicolumn{1}{|c|}{\textbf {\multirow{6}{*}{\centering Inputs}}}  & m\_vc\_videoCapture[x][y]  \\\cline{2-2}
                                 &\cellcolor{tableCell}m\_vc\_frontDistance \\
                                 & \multicolumn{1}{l |}{m\_vc\_hallEffect} \\ 
                                 & \multicolumn{1}{l |}{\cellcolor{tableCell}m\_ic\_carProceedSignal} \\ 
					 &- \\
                                 &\cellcolor{tableCell}m\_vc\_- \\\hline 
%
%

%
%
\multicolumn{1}{|c|}{\textbf {\multirow{4}{*}{\centering Outputs}}}  & c\_vc\_ wheelAngle \\
                                 &\cellcolor{tableCell}c\_vc\_carSpeed \\
                                 & \multicolumn{1}{l |}{c\_vc\_vehicleBreak} \\ 
                                 &\cellcolor{tableCell}c\_vc\_requestTheIC \\\hline 
%
%

\multicolumn{1}{|c|}{\textbf {\multirow{1}{*}{\centering Description}}} & Insert Description Here\\ \hline 

\multicolumn{1}{|c|}{\textbf {\multirow{4}{*}{\centering Timing Constraints}}} 
					 & Process images in sufficient time to make decisions regarding wheel angles (Time: TBD) \\
                                 &\cellcolor{tableCell}- \\
                                 & \multicolumn{1}{l |}{-} \\ \hline

\multicolumn{1}{|c|}{\textbf {\multirow{3}{*}{\centering Initialization}}} 
					 & Initialize all speed controls to zero  \\
                                 &\cellcolor{tableCell}Initialize wheel angle to zero\\
                                 & \multicolumn{1}{l |}{Connect to intersection over Bluetooth communication} \\ \hline
\end{longtable}

% -------------- END SYSTEM COMPONENTS  ---------------- %


% -------------- START SUBSYSTEM COMPONENTS ---------------- %
\section{Subsystem Components}

\subsection{Hardware}

\subsubsection{The First Hardware Component}
\begin{longtable}{| p{.25\textwidth } | p{.7\textwidth } | }\hline 
\textbf{Identification} & - \\ \hline
\textbf{Inputs} & - \\ \hline
\textbf{Outputs} & - \\ \hline
\textbf{Description} & Insert Description Here\\ \hline 
\textbf{Timing Constraints} & Insert Timing Constraints Here\\ \hline 
\textbf{Initialization} & Insert Initialization Stuff Here\\ \hline 
\end{longtable}

\subsubsection{The Second Hardware Component}
\begin{longtable}{| p{.25\textwidth } | p{.7\textwidth } | }\hline 
\textbf{Identification} & - \\ \hline
\textbf{Inputs} & - \\ \hline
\textbf{Outputs} & - \\ \hline
\textbf{Description} & Insert Description Here\\ \hline 
\textbf{Timing Constraints} & Insert Timing Constraints Here\\ \hline 
\textbf{Initialization} & Insert Initialization Stuff Here\\ \hline 
\end{longtable}

\subsection{Software}
\subsubsection{The First Software Component (MIS)}
\begin{longtable}{| p{.25\textwidth } | p{.7\textwidth } | }\hline 
\textbf{Identification} & - \\ \hline
\textbf{Inputs} & - \\ \hline
\textbf{Outputs} & - \\ \hline
\textbf{Description} & Insert Description Here\\ \hline 
\textbf{Timing Constraints} & Insert Timing Constraints Here\\ \hline 
\textbf{Initialization} & Insert Initialization Stuff Here\\ \hline 
\end{longtable}

\subsubsection{The Second Software Component (MIS)}
\begin{longtable}{| p{.25\textwidth } | p{.7\textwidth } | }\hline 
\textbf{Identification} & - \\ \hline
\textbf{Inputs} & - \\ \hline
\textbf{Outputs} & - \\ \hline
\textbf{Description} & Insert Description Here\\ \hline 
\textbf{Timing Constraints} & Insert Timing Constraints Here\\ \hline 
\textbf{Initialization} & Insert Initialization Stuff Here\\ \hline 
\end{longtable}


% -------------- END SUBSYSTEM COMPONENTS  ---------------- %




% -------------- START MID---------------- %
\section{Module Interface Design}
\subsection {MID 1}

\hl{***I thing this would get covered in the Software Component***}

\begin{longtable}{| p{.2\textwidth } | p{.75\textwidth } | }\hline 
\textbf{Insert Text Here} & \textbf{Insert Text Here} \\ \hline
\textbf{Insert Text Here} & -\\ \hline 
\end{longtable}


\subsection {MID 2 }

\begin{longtable}{| p{.2\textwidth } | p{.75\textwidth } | }\hline 
\textbf{Insert Text Here} & \textbf{Insert Text Here} \\ \hline
\textbf{Insert Text Here} & -\\ \hline 
\end{longtable}


\subsection {MID ETC}

\begin{longtable}{| p{.2\textwidth } | p{.75\textwidth } | }\hline 
\textbf{Insert Text Here} & \textbf{Insert Text Here} \\ \hline
\textbf{Insert Text Here} & -\\ \hline 
\end{longtable}

% -------------- END MID ---------------- %

%% -------------- START FUNCTION TABLES---------------- %
%\section{Function Tables}
%\subsection {Table 1}
%
%\hl{***NEED TO LOOK UP FUNCTION TABLE STYLES AND IF WE NEED THEM***}
%
%\begin{longtable}{| p{.2\textwidth } | p{.75\textwidth } | }\hline 
%\textbf{Insert Text Here} & \textbf{Insert Text Here} \\ \hline
%\textbf{Insert Text Here} & -\\ \hline 
%\end{longtable}
%
%
%\subsection {Table 2 }
%
%\begin{longtable}{| p{.2\textwidth } | p{.75\textwidth } | }\hline 
%\textbf{Insert Text Here} & \textbf{Insert Text Here} \\ \hline
%\textbf{Insert Text Here} & -\\ \hline 
%\end{longtable}
%
%
%\subsection {Table 3}
%
%\begin{longtable}{| p{.2\textwidth } | p{.75\textwidth } | }\hline 
%\textbf{Insert Text Here} & \textbf{Insert Text Here} \\ \hline
%\textbf{Insert Text Here} & -\\ \hline 
%\end{longtable}
%
%% -------------- END FUNCTION TABLES ---------------- %



% -------------- START NORMAL OPERATION ---------------- %
\section{Normal Operation}
Insert Text Here. 

% -------------- END NORMAL OPERATION ---------------- %

% -------------- START UNDESIRED EVENT HANDLING ---------------- %
\section{Undesired Event Handling}
Insert Text Here. 

% -------------- END UNDESIRED EVENT HANDLING ---------------- %


% -------------- START REFERENCES ---------------- %
\section{References}
\textbf{Possible References Here}

% -------------- END REFERENCES ---------------- %

\end{document}
